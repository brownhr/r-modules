<!DOCTYPE html>

<html>

<head>

<meta charset="utf-8" />
<meta name="generator" content="pandoc" />
<meta http-equiv="X-UA-Compatible" content="IE=EDGE" />




<title>R Markdown Reports and Survey Data</title>

<script src="site_libs/header-attrs-2.13/header-attrs.js"></script>
<script src="site_libs/jquery-3.6.0/jquery-3.6.0.min.js"></script>
<meta name="viewport" content="width=device-width, initial-scale=1" />
<link href="site_libs/bootstrap-3.3.5/css/flatly.min.css" rel="stylesheet" />
<script src="site_libs/bootstrap-3.3.5/js/bootstrap.min.js"></script>
<script src="site_libs/bootstrap-3.3.5/shim/html5shiv.min.js"></script>
<script src="site_libs/bootstrap-3.3.5/shim/respond.min.js"></script>
<style>h1 {font-size: 34px;}
       h1.title {font-size: 38px;}
       h2 {font-size: 30px;}
       h3 {font-size: 24px;}
       h4 {font-size: 18px;}
       h5 {font-size: 16px;}
       h6 {font-size: 12px;}
       code {color: inherit; background-color: rgba(0, 0, 0, 0.04);}
       pre:not([class]) { background-color: white }</style>
<script src="site_libs/jqueryui-1.11.4/jquery-ui.min.js"></script>
<link href="site_libs/tocify-1.9.1/jquery.tocify.css" rel="stylesheet" />
<script src="site_libs/tocify-1.9.1/jquery.tocify.js"></script>
<script src="site_libs/navigation-1.1/tabsets.js"></script>
<link href="site_libs/highlightjs-9.12.0/default.css" rel="stylesheet" />
<script src="site_libs/highlightjs-9.12.0/highlight.js"></script>
<script src="site_libs/clipboard-1.7.1/clipboard.min.js"></script>
<link href="site_libs/primer-tooltips-1.4.0/build.css" rel="stylesheet" />
<link href="site_libs/klippy-0.0.0.9500/css/klippy.min.css" rel="stylesheet" />
<script src="site_libs/klippy-0.0.0.9500/js/klippy.min.js"></script>
<link href="site_libs/font-awesome-5.1.0/css/all.css" rel="stylesheet" />
<link href="site_libs/font-awesome-5.1.0/css/v4-shims.css" rel="stylesheet" />
<link rel="shortcut icon" href="aoa_r.svg" />

<style type="text/css">
  code{white-space: pre-wrap;}
  span.smallcaps{font-variant: small-caps;}
  span.underline{text-decoration: underline;}
  div.column{display: inline-block; vertical-align: top; width: 50%;}
  div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
  ul.task-list{list-style: none;}
    </style>

<style type="text/css">code{white-space: pre;}</style>
<script type="text/javascript">
if (window.hljs) {
  hljs.configure({languages: []});
  hljs.initHighlightingOnLoad();
  if (document.readyState && document.readyState === "complete") {
    window.setTimeout(function() { hljs.initHighlighting(); }, 0);
  }
}
</script>









<style type = "text/css">
.main-container {
  max-width: 940px;
  margin-left: auto;
  margin-right: auto;
}
img {
  max-width:100%;
}
.tabbed-pane {
  padding-top: 12px;
}
.html-widget {
  margin-bottom: 20px;
}
button.code-folding-btn:focus {
  outline: none;
}
summary {
  display: list-item;
}
details > summary > p:only-child {
  display: inline;
}
pre code {
  padding: 0;
}
</style>


<style type="text/css">
.dropdown-submenu {
  position: relative;
}
.dropdown-submenu>.dropdown-menu {
  top: 0;
  left: 100%;
  margin-top: -6px;
  margin-left: -1px;
  border-radius: 0 6px 6px 6px;
}
.dropdown-submenu:hover>.dropdown-menu {
  display: block;
}
.dropdown-submenu>a:after {
  display: block;
  content: " ";
  float: right;
  width: 0;
  height: 0;
  border-color: transparent;
  border-style: solid;
  border-width: 5px 0 5px 5px;
  border-left-color: #cccccc;
  margin-top: 5px;
  margin-right: -10px;
}
.dropdown-submenu:hover>a:after {
  border-left-color: #adb5bd;
}
.dropdown-submenu.pull-left {
  float: none;
}
.dropdown-submenu.pull-left>.dropdown-menu {
  left: -100%;
  margin-left: 10px;
  border-radius: 6px 0 6px 6px;
}
</style>

<script type="text/javascript">
// manage active state of menu based on current page
$(document).ready(function () {
  // active menu anchor
  href = window.location.pathname
  href = href.substr(href.lastIndexOf('/') + 1)
  if (href === "")
    href = "index.html";
  var menuAnchor = $('a[href="' + href + '"]');

  // mark it active
  menuAnchor.tab('show');

  // if it's got a parent navbar menu mark it active as well
  menuAnchor.closest('li.dropdown').addClass('active');

  // Navbar adjustments
  var navHeight = $(".navbar").first().height() + 15;
  var style = document.createElement('style');
  var pt = "padding-top: " + navHeight + "px; ";
  var mt = "margin-top: -" + navHeight + "px; ";
  var css = "";
  // offset scroll position for anchor links (for fixed navbar)
  for (var i = 1; i <= 6; i++) {
    css += ".section h" + i + "{ " + pt + mt + "}\n";
  }
  style.innerHTML = "body {" + pt + "padding-bottom: 40px; }\n" + css;
  document.head.appendChild(style);
});
</script>

<!-- tabsets -->

<style type="text/css">
.tabset-dropdown > .nav-tabs {
  display: inline-table;
  max-height: 500px;
  min-height: 44px;
  overflow-y: auto;
  border: 1px solid #ddd;
  border-radius: 4px;
}

.tabset-dropdown > .nav-tabs > li.active:before {
  content: "";
  font-family: 'Glyphicons Halflings';
  display: inline-block;
  padding: 10px;
  border-right: 1px solid #ddd;
}

.tabset-dropdown > .nav-tabs.nav-tabs-open > li.active:before {
  content: "&#xe258;";
  border: none;
}

.tabset-dropdown > .nav-tabs.nav-tabs-open:before {
  content: "";
  font-family: 'Glyphicons Halflings';
  display: inline-block;
  padding: 10px;
  border-right: 1px solid #ddd;
}

.tabset-dropdown > .nav-tabs > li.active {
  display: block;
}

.tabset-dropdown > .nav-tabs > li > a,
.tabset-dropdown > .nav-tabs > li > a:focus,
.tabset-dropdown > .nav-tabs > li > a:hover {
  border: none;
  display: inline-block;
  border-radius: 4px;
  background-color: transparent;
}

.tabset-dropdown > .nav-tabs.nav-tabs-open > li {
  display: block;
  float: none;
}

.tabset-dropdown > .nav-tabs > li {
  display: none;
}
</style>

<!-- code folding -->



<style type="text/css">

#TOC {
  margin: 25px 0px 20px 0px;
}
@media (max-width: 768px) {
#TOC {
  position: relative;
  width: 100%;
}
}

@media print {
.toc-content {
  /* see https://github.com/w3c/csswg-drafts/issues/4434 */
  float: right;
}
}

.toc-content {
  padding-left: 30px;
  padding-right: 40px;
}

div.main-container {
  max-width: 1200px;
}

div.tocify {
  width: 20%;
  max-width: 260px;
  max-height: 85%;
}

@media (min-width: 768px) and (max-width: 991px) {
  div.tocify {
    width: 25%;
  }
}

@media (max-width: 767px) {
  div.tocify {
    width: 100%;
    max-width: none;
  }
}

.tocify ul, .tocify li {
  line-height: 20px;
}

.tocify-subheader .tocify-item {
  font-size: 0.90em;
}

.tocify .list-group-item {
  border-radius: 0px;
}


</style>



</head>

<body>


<div class="container-fluid main-container">


<!-- setup 3col/9col grid for toc_float and main content  -->
<div class="row">
<div class="col-xs-12 col-sm-4 col-md-3">
<div id="TOC" class="tocify">
</div>
</div>

<div class="toc-content col-xs-12 col-sm-8 col-md-9">




<div class="navbar navbar-default  navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-bs-toggle="collapse" data-target="#navbar" data-bs-target="#navbar">
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <a class="navbar-brand" href="index.html">R Modules</a>
    </div>
    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
        <li>
  <a href="index.html">
    <span class="fa fa-home"></span>
     
    Home
  </a>
</li>
<li>
  <a href="Syllabus.html">
    <span class="fa fa-file-text"></span>
     
    Syllabus
  </a>
</li>
<li>
  <a href="about.html">
    <span class="fa fa-info"></span>
     
    About
  </a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" data-bs-toggle="dropdown" aria-expanded="false">
    R Modules
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
    <li>
      <a href="RModule1.html">R Module 1</a>
    </li>
    <li>
      <a href="RModule2.html">R Module 2</a>
    </li>
    <li>
      <a href="RModule3.html">R Module 3</a>
    </li>
    <li>
      <a href="RModule5.html">R Module 5</a>
    </li>
    <li>
      <a href="RModule6.html">R Module 6</a>
    </li>
    <li>
      <a href="RModule7.html">R Module 7</a>
    </li>
    <li>
      <a href="RModule8.html">R Module 8</a>
    </li>
    <li>
      <a href="RModule9.html">R Module 9</a>
    </li>
    <li>
      <a href="RModule10.html">R Module 10</a>
    </li>
  </ul>
</li>
      </ul>
      <ul class="nav navbar-nav navbar-right">
        
      </ul>
    </div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

<div id="header">



<h1 class="title toc-ignore">R Markdown Reports and Survey Data</h1>

</div>


<script>
  addClassKlippyTo("pre.r, pre.markdown");
  addKlippy('left', 'top', 'auto', '1', 'Copy code', 'Copied!');
</script>
<div id="generating-reports-using-r-markdown" class="section level1">
<h1>Generating Reports using R Markdown</h1>
<p>For this R Module, we’ll be analyzing some survey data; we have an
airport quality survey which contains 3,501 survey responses from the
Austin-Bergstrom International Airport’s customer survey, from the City
of Austin.</p>
<p>While generating reports using tools like Excel or Google Sheets is
perfectly fine, R is an extraordinarily powerful tool for exploring and
visualizing data, and is perfect for this sort of case. However, it’s
sometimes difficult to quickly generate a report or create a picture,
especially when we want to highlight a number of attributes
simultaneously.</p>
<p>This is where R Markdown comes in – R Markdown documents are
excellent at integrating both narrative text (paragraphs and “things
that you write”) and code (including tables, plots, and maps).</p>
<p>This R Module is intended to be an introduction into the field of R
Markdown; many formal publications, websites, and documents are written
almost entirely in R Markdown (including this website!) As such, there’s
no way this Module could tell you everything you need to know about R
Markdown, but I encourage you to take the time to learn how to use R
Markdown in your coding.</p>
<div id="what-is-markdown" class="section level2">
<h2>What is Markdown?</h2>
<p>Markdown is a popular “markup language” designed to format plain-text
data, such as comments on many websites and documentation for code. In
text editors like Microsoft Word or Google Docs, called “What you see is
what you get (<em>WYSIWYG</em>)” editors, there are buttons for making
text italic, bold, underlined, etc., but it’s often difficult to
transfer that information from one editor to another; if you copy italic
text from a Word document into a program like Notepad, you lose all your
formatting.</p>
<p>Markdown, however is designed to be a “What you type is what you get
(<em>WYTIWYG</em>)” language. If you want to <em>italic</em> text, you
wrap your text with single *asterisks* or _underscores_. If you want
<strong>bold</strong> text, you **use** __two__, and you can
<strong><em>combine</em></strong> them with ***three***.</p>
<p>There are a ton of other formatting options available, such as lists,
links, etc. This module isn’t intended to teach Markdown, but rather a
variant called R Markdown. For more information regarding Markdown, you
can use sites like <a
href="https://about.gitlab.com/handbook/markdown-guide/">Handbook’s
Markdown Guide</a> or resources such as Stack Overflow.</p>
</div>
<div id="r-markdown" class="section level2">
<h2>R Markdown</h2>
<p>R Markdown is a variant of Markdown that is designed to work with R
code. In addition to all of the standard Markdown formatting rules, R
Markdown allows you to embed and run R code directly in your document,
in sections called <em>code chunks</em>. This lets you not only run your
code, but generate a document with text as well; perfect for writing up
labs! Once you get the hang of R Markdown documents, you won’t want to
write up reports in Word anymore. Rather than endlessly take screenshots
and paste into a document, you can embed your code in an R Markdown
document, and it’ll insert the plots and graphs that you generate
<em>directly</em>, like this:</p>
<pre><code>```{r code-example}

x <- seq(-1, 1, length = 20)

y <- dnorm(x)

plot(x, y)

```</code></pre>
<p>Which gives you:</p>
<p><img src="RModule4_files/figure-html/code-example-1.png" width="50%" style="display: block; margin: auto;" /></p>
<p>Or, if you want to print a table, you can use:</p>
<pre><code>```{r table}

head(mtcars)

```</code></pre>
<p>Which gives:</p>
<pre><code>##                    mpg cyl disp  hp drat    wt  qsec vs am gear carb
## Mazda RX4         21.0   6  160 110 3.90 2.620 16.46  0  1    4    4
## Mazda RX4 Wag     21.0   6  160 110 3.90 2.875 17.02  0  1    4    4
## Datsun 710        22.8   4  108  93 3.85 2.320 18.61  1  1    4    1
## Hornet 4 Drive    21.4   6  258 110 3.08 3.215 19.44  1  0    3    1
## Hornet Sportabout 18.7   8  360 175 3.15 3.440 17.02  0  0    3    2
## Valiant           18.1   6  225 105 2.76 3.460 20.22  1  0    3    1</code></pre>
</div>
</div>
<div id="getting-started" class="section level1">
<h1>Getting Started</h1>
<p>Before we do anything with R Markdown, we need to do a bit of setup
to make sure that R Studio is good-to-go in a few ways.</p>
<p>Mainly, we’ll need to install a few R packages:</p>
<ul>
<li><code>rmarkdown</code>, <code>knitr</code>, <code>markdown</code>,
and <code>mime</code>: These allow R Studio to work with Markdown and R
Markdown</li>
<li><code>tinytex</code>: This package is a lightweight <span
class="math inline">\(\LaTeX\)</span> distribution and is necessary to
export as a .PDF.
<ul>
<li>After installing this package, run
<code>tinytex::install_tinytex()</code>. This step might take some
time.</li>
<li>If you have difficulties exporting to a .PDF, I’d recommend
outputting to Word or HTML.</li>
</ul></li>
</ul>
<p>To get things running, you can just run the following code:</p>
<pre class="r"><code>pkgs &lt;- c(&quot;rmarkdown&quot;, &quot;knitr&quot;, &quot;markdown&quot;, &quot;mime&quot;, &quot;tinytex&quot;)

install.packages(pkgs)

tinytex::install_tinytex()</code></pre>
<p>Then, restart R Studio.</p>
<p>Let’s get started by creating a new R Project, as in previous R
Modules. Once you have that set up, we want to create a new R Markdown
document. Navigate to <code>File &gt; New File &gt; R Markdown</code>.
Give it a title, “R Module 4 Report”, enter your name, and select
<code>HTML</code> as the output format.</p>
<p><img src="img/R%20Module%204/New%20R%20Markdown.png" width="60%" style="display: block; margin: auto;" /></p>
<p>You should see a file that looks something like this:</p>
<p><img src="img/R%20Module%204/R%20Markdown.png" width="60%" style="display: block; margin: auto;" /></p>
<p>Go ahead and hit Save (<code>Ctrl-S</code>) and save your document.
When you create a new R Markdown document, it comes with some “example
text”, such as how to run code and insert “code chunks”. Feel free to
browse this example text, but delete everything outside the header (your
header is the text surrounded by three dashes, <code>---</code>).</p>
<div id="yaml-header" class="section level2">
<h2>YAML Header</h2>
<p>One of the most important parts of an R Markdown document is the
<em>YAML Header</em> – the beginning of the document surrounded by
<code>---</code>. YAML is a special kind of “data serialization
language”; basically, it’s a way of storing “options” in plain-text
format. Don’t worry too much about the details for now – this is an
introduction, after all – but just remember that most of your important
options like <code>title</code>, <code>date</code>, <code>output</code>,
etc. are stored here.</p>
</div>
<div id="code-chunks" class="section level2">
<h2>Code Chunks</h2>
<p>Code Chunks are the lifeblood of R Markdown documents; they allow you
to run R code within your document, giving you the ability to embed
tables, plots, figures, and maps directly in your document (no more
copy-pasting screenshots!).</p>
<p>These Code Chunks are surrounded by three backticks,
<code>```</code>, (it’s the key to the left of the <code>1</code> key on
most layouts). To insert a Chunk, you can also type
<code>Ctrl/Cmd-Alt-I</code>.</p>
<p>The <code>{r}</code> within the chunk signifies that the code we’re
writing is in the R language (likely, you won’t ever need to change that
for this course, but other options include <code>html</code>). Anything
in these curly braces is considered “knitr chunk options”, which control
how your code is run. For example, if you want to run code but not show
the code itself in your output document, you can specify
<code>echo = FALSE</code> in your chunk options (for this course, keep
<code>echo = TRUE</code> so we can troubleshoot your code!).</p>
<p>More info about chunk options can be found at Yihui Xie’s (developer
of knitr, rmarkdown, and many other incredible R packages) website at <a
href="https://yihui.org/knitr/options/"
class="uri">https://yihui.org/knitr/options/</a></p>
<hr />
</div>
<div id="writing-your-first-code-chunk" class="section level2">
<h2>Writing your first Code Chunk</h2>
<p>After removing everything but your YAML header, start by inserting a
new Chunk (<code>Ctrl-Alt-I</code>). Make sure there’s a couple lines
between your header and your Chunk.</p>
<p>Within your Chunk (the area between the sets of backticks should be
greyed-out) is where you can enter in R code. Generally, you should have
a separate Chunk for each “thing” you do; think of them like “paragraphs
of code”. Not only does this help keep your document tidy, it lets you
know exactly where potential problems in your code are.</p>
<p>In your first Chunk, we’ll load some data. Just like in R Scripts,
you have to load packages with the <code>library()</code> function. If
you get a message like
<code>Error in loadNamespace(x) : there is no package called 'packagename</code>,
it means you haven’t yet, and need to install it with
<code>install.packages("packagename")</code> (note the quotes here, but
not in <code>library()</code>!).</p>
<p>Let’s load our airport survey (<code>airport_survery.csv</code>) with
the <code>readr</code> package from the <code>tidyverse</code>; enter
the code into your first Chunk:</p>
<pre class="r"><code>library(tidyverse)

survey &lt;- read_csv(&quot;data/airport_survey.csv&quot;)</code></pre>
<pre><code>## Rows: 3501 Columns: 37
## -- Column specification --------------------------------------------------------
## Delimiter: &quot;,&quot;
## chr   (2): Quarter, Date recorded
## dbl  (34): Ground transportation to/from airport, Parking facilities, Parkin...
## time  (1): Departure time
## 
## i Use `spec()` to retrieve the full column specification for this data.
## i Specify the column types or set `show_col_types = FALSE` to quiet this message.</code></pre>
<p>You should see three buttons, <img
src="img/R%20Module%204/chunkbuttons.png" />. The first is for your
Chunk options, and allows you to interactively set your options and name
your Chunk. The second runs all Code Chunks above the current one, and
the last runs the current Chunk itself.</p>
<p>Go ahead and run your Chunk. Oh, some helpful keyboard shortcuts in R
Markdown and R in general include (on Windows):</p>
<table>
<colgroup>
<col width="27%" />
<col width="72%" />
</colgroup>
<thead>
<tr class="header">
<th>Keys</th>
<th>Function</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td><code>Ctrl Shift Enter</code></td>
<td>Runs the current Chunk (wherever your cursor is placed)</td>
</tr>
<tr class="even">
<td><code>Ctrl Alt R</code></td>
<td>Runs all Chunks, in order</td>
</tr>
<tr class="odd">
<td><code>Alt -</code></td>
<td>Enters the <code>&lt;-</code> operator</td>
</tr>
<tr class="even">
<td><code>Ctrl 1</code></td>
<td>Focuses the cursor on the Editor pane</td>
</tr>
<tr class="odd">
<td><code>Ctrl 2</code></td>
<td>Focuses the cursor on the Console pane</td>
</tr>
<tr class="even">
<td><code>Ctrl Shift M</code></td>
<td>Enters the <code>magrittr</code> <code>%&gt;%</code> Pipe
Operator</td>
</tr>
<tr class="odd">
<td><code>Ctrl Shift K</code></td>
<td>“Knits” the current R Markdown document</td>
</tr>
</tbody>
</table>
<hr />
<hr />
</div>
</div>
<div id="qualitative-data" class="section level1">
<h1>Qualitative Data</h1>
<div id="factors-and-levels-in-r" class="section level3">
<h3>Factors and Levels in R</h3>
<hr />
</div>
<div id="recoding-using-dplyr" class="section level2">
<h2>Recoding using <code>dplyr</code></h2>
<hr />
</div>
<div id="visualizing-qualitative-data-with-ggplot2"
class="section level2">
<h2>Visualizing Qualitative Data with <code>ggplot2</code></h2>
<hr />
<hr />
</div>
</div>
<div id="survey-development-sampling-and-statistical-tests"
class="section level1">
<h1>Survey Development, Sampling, and Statistical Tests</h1>
<div id="sampling-techniques" class="section level2">
<h2>Sampling Techniques</h2>
<hr />
</div>
<div id="statistisal-tests-for-surveys" class="section level2">
<h2>Statistisal Tests for Surveys</h2>
<hr />
<hr />
</div>
</div>
<div id="assignment" class="section level1">
<h1>Assignment</h1>
</div>

<p>&copy; 2022 Maggie Sugg & Harrison Brown. v.0.0.13</p>


</div>
</div>

</div>

<script>

// add bootstrap table styles to pandoc tables
function bootstrapStylePandocTables() {
  $('tr.odd').parent('tbody').parent('table').addClass('table table-condensed');
}
$(document).ready(function () {
  bootstrapStylePandocTables();
});


</script>

<!-- tabsets -->

<script>
$(document).ready(function () {
  window.buildTabsets("TOC");
});

$(document).ready(function () {
  $('.tabset-dropdown > .nav-tabs > li').click(function () {
    $(this).parent().toggleClass('nav-tabs-open');
  });
});
</script>

<!-- code folding -->

<script>
$(document).ready(function ()  {

    // temporarily add toc-ignore selector to headers for the consistency with Pandoc
    $('.unlisted.unnumbered').addClass('toc-ignore')

    // move toc-ignore selectors from section div to header
    $('div.section.toc-ignore')
        .removeClass('toc-ignore')
        .children('h1,h2,h3,h4,h5').addClass('toc-ignore');

    // establish options
    var options = {
      selectors: "h1,h2,h3",
      theme: "bootstrap3",
      context: '.toc-content',
      hashGenerator: function (text) {
        return text.replace(/[.\\/?&!#<>]/g, '').replace(/\s/g, '_');
      },
      ignoreSelector: ".toc-ignore",
      scrollTo: 0
    };
    options.showAndHide = true;
    options.smoothScroll = true;

    // tocify
    var toc = $("#TOC").tocify(options).data("toc-tocify");
});
</script>

<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    script.src  = "https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML";
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>

</body>
</html>
