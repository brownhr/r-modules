<!DOCTYPE html>

<html>

<head>

<meta charset="utf-8" />
<meta name="generator" content="pandoc" />
<meta http-equiv="X-UA-Compatible" content="IE=EDGE" />




<title>RModule3.knit</title>

<script src="site_libs/header-attrs-2.13/header-attrs.js"></script>
<script src="site_libs/jquery-3.6.0/jquery-3.6.0.min.js"></script>
<meta name="viewport" content="width=device-width, initial-scale=1" />
<link href="site_libs/bootstrap-3.3.5/css/lumen.min.css" rel="stylesheet" />
<script src="site_libs/bootstrap-3.3.5/js/bootstrap.min.js"></script>
<script src="site_libs/bootstrap-3.3.5/shim/html5shiv.min.js"></script>
<script src="site_libs/bootstrap-3.3.5/shim/respond.min.js"></script>
<style>h1 {font-size: 34px;}
       h1.title {font-size: 38px;}
       h2 {font-size: 30px;}
       h3 {font-size: 24px;}
       h4 {font-size: 18px;}
       h5 {font-size: 16px;}
       h6 {font-size: 12px;}
       code {color: inherit; background-color: rgba(0, 0, 0, 0.04);}
       pre:not([class]) { background-color: white }</style>
<script src="site_libs/jqueryui-1.11.4/jquery-ui.min.js"></script>
<link href="site_libs/tocify-1.9.1/jquery.tocify.css" rel="stylesheet" />
<script src="site_libs/tocify-1.9.1/jquery.tocify.js"></script>
<script src="site_libs/navigation-1.1/tabsets.js"></script>
<link href="site_libs/highlightjs-9.12.0/textmate.css" rel="stylesheet" />
<script src="site_libs/highlightjs-9.12.0/highlight.js"></script>
<script src="site_libs/clipboard-1.7.1/clipboard.min.js"></script>
<link href="site_libs/primer-tooltips-1.4.0/build.css" rel="stylesheet" />
<link href="site_libs/klippy-0.0.0.9500/css/klippy.min.css" rel="stylesheet" />
<script src="site_libs/klippy-0.0.0.9500/js/klippy.min.js"></script>
<script src="site_libs/htmlwidgets-1.5.4/htmlwidgets.js"></script>
<script src="site_libs/plotly-binding-4.10.0/plotly.js"></script>
<script src="site_libs/typedarray-0.1/typedarray.min.js"></script>
<link href="site_libs/crosstalk-1.2.0/css/crosstalk.min.css" rel="stylesheet" />
<script src="site_libs/crosstalk-1.2.0/js/crosstalk.min.js"></script>
<link href="site_libs/plotly-htmlwidgets-css-2.5.1/plotly-htmlwidgets.css" rel="stylesheet" />
<script src="site_libs/plotly-main-2.5.1/plotly-latest.min.js"></script>
<meta name="viewport" content="width=device-width, initial-scale=1" />
<link href="site_libs/bootstrap-grid-3.4.1/bootstrap-grid.min.css" rel="stylesheet" />
<link href="site_libs/font-awesome-5.1.0/css/all.css" rel="stylesheet" />
<link href="site_libs/font-awesome-5.1.0/css/v4-shims.css" rel="stylesheet" />

<style type="text/css">
  code{white-space: pre-wrap;}
  span.smallcaps{font-variant: small-caps;}
  span.underline{text-decoration: underline;}
  div.column{display: inline-block; vertical-align: top; width: 50%;}
  div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
  ul.task-list{list-style: none;}
    </style>

<style type="text/css">code{white-space: pre;}</style>
<script type="text/javascript">
if (window.hljs) {
  hljs.configure({languages: []});
  hljs.initHighlightingOnLoad();
  if (document.readyState && document.readyState === "complete") {
    window.setTimeout(function() { hljs.initHighlighting(); }, 0);
  }
}
</script>









<style type = "text/css">
.main-container {
  max-width: 940px;
  margin-left: auto;
  margin-right: auto;
}
img {
  max-width:100%;
}
.tabbed-pane {
  padding-top: 12px;
}
.html-widget {
  margin-bottom: 20px;
}
button.code-folding-btn:focus {
  outline: none;
}
summary {
  display: list-item;
}
details > summary > p:only-child {
  display: inline;
}
pre code {
  padding: 0;
}
</style>


<style type="text/css">
.dropdown-submenu {
  position: relative;
}
.dropdown-submenu>.dropdown-menu {
  top: 0;
  left: 100%;
  margin-top: -6px;
  margin-left: -1px;
  border-radius: 0 6px 6px 6px;
}
.dropdown-submenu:hover>.dropdown-menu {
  display: block;
}
.dropdown-submenu>a:after {
  display: block;
  content: " ";
  float: right;
  width: 0;
  height: 0;
  border-color: transparent;
  border-style: solid;
  border-width: 5px 0 5px 5px;
  border-left-color: #cccccc;
  margin-top: 5px;
  margin-right: -10px;
}
.dropdown-submenu:hover>a:after {
  border-left-color: #adb5bd;
}
.dropdown-submenu.pull-left {
  float: none;
}
.dropdown-submenu.pull-left>.dropdown-menu {
  left: -100%;
  margin-left: 10px;
  border-radius: 6px 0 6px 6px;
}
</style>

<script type="text/javascript">
// manage active state of menu based on current page
$(document).ready(function () {
  // active menu anchor
  href = window.location.pathname
  href = href.substr(href.lastIndexOf('/') + 1)
  if (href === "")
    href = "index.html";
  var menuAnchor = $('a[href="' + href + '"]');

  // mark it active
  menuAnchor.tab('show');

  // if it's got a parent navbar menu mark it active as well
  menuAnchor.closest('li.dropdown').addClass('active');

  // Navbar adjustments
  var navHeight = $(".navbar").first().height() + 15;
  var style = document.createElement('style');
  var pt = "padding-top: " + navHeight + "px; ";
  var mt = "margin-top: -" + navHeight + "px; ";
  var css = "";
  // offset scroll position for anchor links (for fixed navbar)
  for (var i = 1; i <= 6; i++) {
    css += ".section h" + i + "{ " + pt + mt + "}\n";
  }
  style.innerHTML = "body {" + pt + "padding-bottom: 40px; }\n" + css;
  document.head.appendChild(style);
});
</script>

<!-- tabsets -->

<style type="text/css">
.tabset-dropdown > .nav-tabs {
  display: inline-table;
  max-height: 500px;
  min-height: 44px;
  overflow-y: auto;
  border: 1px solid #ddd;
  border-radius: 4px;
}

.tabset-dropdown > .nav-tabs > li.active:before {
  content: "";
  font-family: 'Glyphicons Halflings';
  display: inline-block;
  padding: 10px;
  border-right: 1px solid #ddd;
}

.tabset-dropdown > .nav-tabs.nav-tabs-open > li.active:before {
  content: "&#xe258;";
  border: none;
}

.tabset-dropdown > .nav-tabs.nav-tabs-open:before {
  content: "";
  font-family: 'Glyphicons Halflings';
  display: inline-block;
  padding: 10px;
  border-right: 1px solid #ddd;
}

.tabset-dropdown > .nav-tabs > li.active {
  display: block;
}

.tabset-dropdown > .nav-tabs > li > a,
.tabset-dropdown > .nav-tabs > li > a:focus,
.tabset-dropdown > .nav-tabs > li > a:hover {
  border: none;
  display: inline-block;
  border-radius: 4px;
  background-color: transparent;
}

.tabset-dropdown > .nav-tabs.nav-tabs-open > li {
  display: block;
  float: none;
}

.tabset-dropdown > .nav-tabs > li {
  display: none;
}
</style>

<!-- code folding -->



<style type="text/css">

#TOC {
  margin: 25px 0px 20px 0px;
}
@media (max-width: 768px) {
#TOC {
  position: relative;
  width: 100%;
}
}

@media print {
.toc-content {
  /* see https://github.com/w3c/csswg-drafts/issues/4434 */
  float: right;
}
}

.toc-content {
  padding-left: 30px;
  padding-right: 40px;
}

div.main-container {
  max-width: 1200px;
}

div.tocify {
  width: 20%;
  max-width: 260px;
  max-height: 85%;
}

@media (min-width: 768px) and (max-width: 991px) {
  div.tocify {
    width: 25%;
  }
}

@media (max-width: 767px) {
  div.tocify {
    width: 100%;
    max-width: none;
  }
}

.tocify ul, .tocify li {
  line-height: 20px;
}

.tocify-subheader .tocify-item {
  font-size: 0.90em;
}

.tocify .list-group-item {
  border-radius: 0px;
}


</style>



</head>

<body>


<div class="container-fluid main-container">


<!-- setup 3col/9col grid for toc_float and main content  -->
<div class="row">
<div class="col-xs-12 col-sm-4 col-md-3">
<div id="TOC" class="tocify">
</div>
</div>

<div class="toc-content col-xs-12 col-sm-8 col-md-9">




<div class="navbar navbar-default  navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-bs-toggle="collapse" data-target="#navbar" data-bs-target="#navbar">
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <a class="navbar-brand" href="index.html">R Modules</a>
    </div>
    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
        <li>
  <a href="https://brownhr.github.io">
    <span class="fa fa-home"></span>
     
    Home
  </a>
</li>
<li>
  <a href="about.html">
    <span class="fa fa-info"></span>
     
    About
  </a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" data-bs-toggle="dropdown" aria-expanded="false">
    R Modules
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
    <li class="dropdown-header">R Modules</li>
    <li>
      <a href="RModule1.html">R Module 1</a>
    </li>
    <li>
      <a href="RModule2.html">R Module 2</a>
    </li>
    <li>
      <a href="RModule3.html">R Module 3</a>
    </li>
    <li>
      <a href="RModule4.html">R Module 4</a>
    </li>
  </ul>
</li>
      </ul>
      <ul class="nav navbar-nav navbar-right">
        
      </ul>
    </div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

<div id="header">




</div>


<div id="r-module-3" class="section level1">
<h1>R Module 3</h1>
<script>
  addClassKlippyTo("pre.r, pre.markdown");
  addKlippy('left', 'top', 'auto', '1', 'Copy code', 'Copied!');
</script>
<div id="file-management" class="section level2">
<h2>File Management</h2>
<p>When we work with real-life data, it’s important to know how to both
read data from our computer and write data from R Studio as a file. File
management is an essential part of any workflow, especially as the scope
and scale of analyses increases. Sometimes each file can be quite large
– often several dozen or hundred megabytes or more – so it’s important
to analyze data in a modular fashion (our computers have limited memory,
disk space, processing power, and speed, after all). Fortunately, many
tools exists within R and R Studio to make these tasks easier. In this R
Module, you’ll learn some skills and R Packages that are frequently used
to import and export data from your R environment.</p>
<p>Let’s go ahead and initialize a new R Project
(<code>File &gt; New Project...</code>) and call it <em>R Module
3</em>.</p>
</div>
<div id="importing-and-exporting-data" class="section level2">
<h2>Importing and Exporting Data</h2>
<p>Working in future R Modules, classes, and projects, you’ll need to be
able to load, save, and share data. Fortunately, there are tools to load
this data for almost any data type, from .csv’s to shapefiles, raster
images, and many more. We’ll go over a couple of the most useful tools
and packages used in data management to work with files in R.</p>
<p>In this lab, you’ll use a folder called <code>data</code>, which
contains a file called <code>mtcars.csv</code>. When working within R,
it’s important to know how to access files and folders. When you create
a project, the folder you set it up within is designated as your
<strong>working directory</strong>, which is a way of easily accessing
files for your project without writing the file’s full path. For
example, instead of accessing the file with
<code>C:/Users/brownhr/Documents/R Module 3/data/example.file</code>, if
you’re in the working directory “R Module 3” (which can be checked with
<code>getwd()</code>), you can simply type
<code>data/example.file</code>.</p>
<p><strong>N.B.</strong> within R, it is very important to distinguish
between <code>/</code> and <code>\</code>; <code>\</code> is called an
“escape character” and is used in more advanced text entry such as
Regex. If you want to enter a file path, use either
<code>C:/Example/File/path</code> or
<code>C:\\Example\\File\\path</code>; adding two backslashes is
necessary in this case.</p>
<div id="readr" class="section level3">
<h3><code>readr</code></h3>
<p>The <code>readr</code> package provides some excellent functionality
reading and writing data from and to files; while many of its functions
exist in base R, <code>readr</code> is markedly faster, and provides
more functionality for importing different types of data in a “tidy”
manner (“tidy” is a programming concept in R that we’ll get to later).
For more information about <code>readr</code>, visit <a
href="https://readr.tidyverse.org"
class="uri">https://readr.tidyverse.org</a></p>
<p><code>readr</code> comes with functions that allow for easy
manipulation of primarily table-based data, such as <code>.csv</code>
and <code>.tsv</code> files, allowing us to work with data that we make
in Excel or Google Sheets. Especially when working with large files, or
large numbers of files, <code>readr</code> makes importing and exporting
data easy, and is much faster at reading and writing than the base
<code>R</code> functions.</p>
</div>
</div>
<div id="mapping-with-sf" class="section level2">
<h2>Mapping with <code>sf</code></h2>
<p>Simple Features for R, or <code>sf</code>, is an R package that
allows for much easier geospatial analysis than older packages like
<code>rgdal</code>. <code>sf</code> works with “simple features” –
vector objects in GIS like points, lines, polygons, etc. – and stores
their “geometry” – their list of coordinates – as a column in a data
frame. This allows for geospatial data to be processed in exactly the
same way as non-spatial data; you can run functions and analyses on the
attribute table of a shapefile without needing to convert or export to
any intermediate formats, for example.</p>
<p><code>sf</code> can work with shapefiles and other vector formats
made by ArcGIS Pro, QGIS, etc., so if you have a shapefile, you can
import it into R with <code>read_sf()</code>, perform your analysis, and
export any sort of spatial result with <code>write_sf()</code>.</p>
<p>Even better, there’s compatability with <code>ggplot2</code>! Suppose
we have two shapefiles that we wish to map: <code>NC_Counties</code> and
<code>US_States</code>. Combining them is easy in
<code>ggplot2</code>:</p>
<pre class="r"><code># Load sf and the tidyverse, which contains packages like ggplot2 and dplyr

library(tidyverse)
library(sf)


# Read in the shapefiles with sf

US_States &lt;- read_sf(&quot;data/US_States.shp&quot;)
NC_Counties &lt;- read_sf(&quot;data/NC_Counties.shp&quot;)


# We can create a &#39;blank&#39; ggplot object and define the data and mappings
# separately, which is useful if we have more than one input file or want to
# display more than one dataset.

ggplot() +
  geom_sf(data = US_States, fill = &quot;white&quot;) +
  geom_sf(data = NC_Counties, aes(fill = Population), color = NA) +
  coord_sf(xlim = c(-86, -74), ylim = c(32, 38)) +
  theme_bw() +
  labs(title = &quot;Population per County for North Carolina&quot;)</code></pre>
<p><img src="RModule3_files/figure-html/sf-example-1.png" width="100%" /></p>
<p>Looks good so far! You’ll make a few maps of your own later in the
Module, so feel free to read more about how <code>geom_sf()</code> and
the other <code>ggplot2</code> and <code>sf</code> functions work.</p>
<p>Read more about <code>sf</code> by going to <a
href="https://r-spatial.github.io/sf/"
class="uri">https://r-spatial.github.io/sf/</a></p>
<p><strong>Answer the following questions, and include them in your
final document:</strong></p>
<ol style="list-style-type: decimal">
<li><p>Within your <code>data/</code> folder, open the file
<code>NC_Counties.prj</code> with a program like Notepad or
Notepad++.</p>
<ul>
<li>What kind of information does this file contain?</li>
<li>Why is it important to include these “auxiliary” files?</li>
<li>What would happen if you forgot to include the <code>.prj</code>
file?</li>
</ul></li>
<li><p>For the <code>US_States</code> layer, the <code>fill</code>
argument stands on its own, while for <code>NC_Counties</code>, it’s
inside the <code>aes()</code> function. Why is this the case – what’s
the difference between these two layers?</p></li>
<li><p>What’s the purpose of the <code>coord_sf()</code> function? Use
<code>?coord_sf()</code> to view documentation and usage, and describe
its arguments.</p></li>
</ol>
<div id="choropleth-mapping" class="section level3">
<h3>Choropleth Mapping</h3>
</div>
<div id="importing-and-exporting-shapefiles" class="section level3">
<h3>Importing and Exporting Shapefiles</h3>
<hr />
<hr />
</div>
</div>
<div id="probability-and-probability-distributions"
class="section level2">
<h2>Probability and Probability Distributions</h2>
<div id="mapping-techniques" class="section level3">
<h3>Mapping Techniques</h3>
</div>
<div id="discrete-distributions" class="section level3">
<h3>Discrete Distributions</h3>
<div id="uniform" class="section level4">
<h4>Uniform</h4>
</div>
<div id="binomial" class="section level4">
<h4>Binomial</h4>
<p>Let’s go ahead and learn by example! Within your R Module 3 folder
(or wherever you initialized your R Project), copy over the
<code>data</code> folder. Set up an R Script called <code>Task1.R</code>
and enter the following:</p>
<pre class="r"><code>library(readr)

data_path &lt;- &quot;data/mtcars.csv&quot;

cars_data &lt;- read_csv(file = data_path)</code></pre>
<pre><code>## # A tibble: 32 x 11
##      mpg   cyl  disp    hp  drat    wt  qsec    vs    am  gear  carb
##    &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt;
##  1  21       6  160    110  3.9   2.62  16.5     0     1     4     4
##  2  21       6  160    110  3.9   2.88  17.0     0     1     4     4
##  3  22.8     4  108     93  3.85  2.32  18.6     1     1     4     1
##  4  21.4     6  258    110  3.08  3.22  19.4     1     0     3     1
##  5  18.7     8  360    175  3.15  3.44  17.0     0     0     3     2
##  6  18.1     6  225    105  2.76  3.46  20.2     1     0     3     1
##  7  14.3     8  360    245  3.21  3.57  15.8     0     0     3     4
##  8  24.4     4  147.    62  3.69  3.19  20       1     0     4     2
##  9  22.8     4  141.    95  3.92  3.15  22.9     1     0     4     2
## 10  19.2     6  168.   123  3.92  3.44  18.3     1     0     4     4
## # ... with 22 more rows</code></pre>
</div>
<div id="poisson-distribution" class="section level4">
<h4>Poisson Distribution</h4>
<div class="container-fluid crosstalk-bscols">
<div class="row">
<div class="col-xs-12">
<div id="htmlwidget-6aa947fb1148e2c6546e" style="width:100%;height:400px;" class="plotly html-widget"></div>
<script type="application/json" data-for="htmlwidget-6aa947fb1148e2c6546e">{"x":{"visdat":{"109461e06bc4":["function () ","plotlyVisDat"]},"cur_data":"109461e06bc4","attrs":{"109461e06bc4":{"x":{},"y":{},"hoverinfo":"text","text":{},"alpha_stroke":1,"sizes":[10,100],"spans":[1,20],"type":"bar","inherit":true}},"layout":{"margin":{"b":40,"l":60,"t":25,"r":10},"xaxis":{"domain":[0,1],"automargin":true,"title":"Number of Occurances"},"yaxis":{"domain":[0,1],"automargin":true,"title":"Density"},"hovermode":"closest","showlegend":false},"source":"A","config":{"modeBarButtonsToAdd":["hoverclosest","hovercompare"],"showSendToCloud":false},"data":[{"x":[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20],"y":[0.00673794699908547,0.0336897349954273,0.0842243374885683,0.140373895814281,0.175467369767851,0.175467369767851,0.146222808139876,0.104444862957054,0.0652780393481587,0.0362655774156437,0.0181327887078219,0.00824217668537357,0.00343424028557233,0.00132086164829705,0.000471736302963232,0.000157245434321077,4.91391982253366e-05,1.44527053603931e-05,4.01464037788698e-06,1.05648430997026e-06,2.64121077492563e-07],"hoverinfo":["text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text"],"text":["Density: 0.01","Density: 0.03","Density: 0.08","Density: 0.14","Density: 0.18","Density: 0.18","Density: 0.15","Density: 0.1","Density: 0.07","Density: 0.04","Density: 0.02","Density: 0.01","Density: 0","Density: 0","Density: 0","Density: 0","Density: 0","Density: 0","Density: 0","Density: 0","Density: 0"],"type":"bar","marker":{"color":"rgba(31,119,180,1)","line":{"color":"rgba(31,119,180,1)"}},"error_y":{"color":"rgba(31,119,180,1)"},"error_x":{"color":"rgba(31,119,180,1)"},"xaxis":"x","yaxis":"y","frame":null}],"highlight":{"on":"plotly_click","persistent":false,"dynamic":false,"selectize":false,"opacityDim":0.2,"selected":{"opacity":1},"debounce":0},"shinyEvents":["plotly_hover","plotly_click","plotly_selected","plotly_relayout","plotly_brushed","plotly_brushing","plotly_clickannotation","plotly_doubleclick","plotly_deselect","plotly_afterplot","plotly_sunburstclick"],"base_url":"https://plot.ly"},"evals":[],"jsHooks":[]}</script>
</div>
</div>
</div>
</div>
</div>
<div id="continuous-distributions" class="section level3">
<h3>Continuous Distributions</h3>
<hr />
<hr />
<!--

-->
</div>
</div>
<div id="assignment" class="section level2">
<h2>Assignment</h2>
</div>
</div>

<p>&copy; 2022 brownhr. v.0.0.5</p>


</div>
</div>

</div>

<script>

// add bootstrap table styles to pandoc tables
function bootstrapStylePandocTables() {
  $('tr.odd').parent('tbody').parent('table').addClass('table table-condensed');
}
$(document).ready(function () {
  bootstrapStylePandocTables();
});


</script>

<!-- tabsets -->

<script>
$(document).ready(function () {
  window.buildTabsets("TOC");
});

$(document).ready(function () {
  $('.tabset-dropdown > .nav-tabs > li').click(function () {
    $(this).parent().toggleClass('nav-tabs-open');
  });
});
</script>

<!-- code folding -->

<script>
$(document).ready(function ()  {

    // temporarily add toc-ignore selector to headers for the consistency with Pandoc
    $('.unlisted.unnumbered').addClass('toc-ignore')

    // move toc-ignore selectors from section div to header
    $('div.section.toc-ignore')
        .removeClass('toc-ignore')
        .children('h1,h2,h3,h4,h5').addClass('toc-ignore');

    // establish options
    var options = {
      selectors: "h1,h2,h3",
      theme: "bootstrap3",
      context: '.toc-content',
      hashGenerator: function (text) {
        return text.replace(/[.\\/?&!#<>]/g, '').replace(/\s/g, '_');
      },
      ignoreSelector: ".toc-ignore",
      scrollTo: 0
    };
    options.showAndHide = true;
    options.smoothScroll = true;

    // tocify
    var toc = $("#TOC").tocify(options).data("toc-tocify");
});
</script>

<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    script.src  = "https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML";
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>

</body>
</html>
