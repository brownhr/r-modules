<!DOCTYPE html>

<html>

<head>

<meta charset="utf-8" />
<meta name="generator" content="pandoc" />
<meta http-equiv="X-UA-Compatible" content="IE=EDGE" />




<title>RModule2.knit</title>

<script src="site_libs/header-attrs-2.13/header-attrs.js"></script>
<script src="site_libs/jquery-3.6.0/jquery-3.6.0.min.js"></script>
<meta name="viewport" content="width=device-width, initial-scale=1" />
<link href="site_libs/bootstrap-3.3.5/css/lumen.min.css" rel="stylesheet" />
<script src="site_libs/bootstrap-3.3.5/js/bootstrap.min.js"></script>
<script src="site_libs/bootstrap-3.3.5/shim/html5shiv.min.js"></script>
<script src="site_libs/bootstrap-3.3.5/shim/respond.min.js"></script>
<style>h1 {font-size: 34px;}
       h1.title {font-size: 38px;}
       h2 {font-size: 30px;}
       h3 {font-size: 24px;}
       h4 {font-size: 18px;}
       h5 {font-size: 16px;}
       h6 {font-size: 12px;}
       code {color: inherit; background-color: rgba(0, 0, 0, 0.04);}
       pre:not([class]) { background-color: white }</style>
<script src="site_libs/jqueryui-1.11.4/jquery-ui.min.js"></script>
<link href="site_libs/tocify-1.9.1/jquery.tocify.css" rel="stylesheet" />
<script src="site_libs/tocify-1.9.1/jquery.tocify.js"></script>
<script src="site_libs/navigation-1.1/tabsets.js"></script>
<link href="site_libs/highlightjs-9.12.0/textmate.css" rel="stylesheet" />
<script src="site_libs/highlightjs-9.12.0/highlight.js"></script>
<script src="site_libs/clipboard-1.7.1/clipboard.min.js"></script>
<link href="site_libs/primer-tooltips-1.4.0/build.css" rel="stylesheet" />
<link href="site_libs/klippy-0.0.0.9500/css/klippy.min.css" rel="stylesheet" />
<script src="site_libs/klippy-0.0.0.9500/js/klippy.min.js"></script>
<link href="site_libs/font-awesome-5.1.0/css/all.css" rel="stylesheet" />
<link href="site_libs/font-awesome-5.1.0/css/v4-shims.css" rel="stylesheet" />
<link rel="shortcut icon" href="logo.svg" />

<style type="text/css">
  code{white-space: pre-wrap;}
  span.smallcaps{font-variant: small-caps;}
  span.underline{text-decoration: underline;}
  div.column{display: inline-block; vertical-align: top; width: 50%;}
  div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
  ul.task-list{list-style: none;}
    </style>

<style type="text/css">code{white-space: pre;}</style>
<script type="text/javascript">
if (window.hljs) {
  hljs.configure({languages: []});
  hljs.initHighlightingOnLoad();
  if (document.readyState && document.readyState === "complete") {
    window.setTimeout(function() { hljs.initHighlighting(); }, 0);
  }
}
</script>









<style type = "text/css">
.main-container {
  max-width: 940px;
  margin-left: auto;
  margin-right: auto;
}
img {
  max-width:100%;
}
.tabbed-pane {
  padding-top: 12px;
}
.html-widget {
  margin-bottom: 20px;
}
button.code-folding-btn:focus {
  outline: none;
}
summary {
  display: list-item;
}
details > summary > p:only-child {
  display: inline;
}
pre code {
  padding: 0;
}
</style>


<style type="text/css">
.dropdown-submenu {
  position: relative;
}
.dropdown-submenu>.dropdown-menu {
  top: 0;
  left: 100%;
  margin-top: -6px;
  margin-left: -1px;
  border-radius: 0 6px 6px 6px;
}
.dropdown-submenu:hover>.dropdown-menu {
  display: block;
}
.dropdown-submenu>a:after {
  display: block;
  content: " ";
  float: right;
  width: 0;
  height: 0;
  border-color: transparent;
  border-style: solid;
  border-width: 5px 0 5px 5px;
  border-left-color: #cccccc;
  margin-top: 5px;
  margin-right: -10px;
}
.dropdown-submenu:hover>a:after {
  border-left-color: #adb5bd;
}
.dropdown-submenu.pull-left {
  float: none;
}
.dropdown-submenu.pull-left>.dropdown-menu {
  left: -100%;
  margin-left: 10px;
  border-radius: 6px 0 6px 6px;
}
</style>

<script type="text/javascript">
// manage active state of menu based on current page
$(document).ready(function () {
  // active menu anchor
  href = window.location.pathname
  href = href.substr(href.lastIndexOf('/') + 1)
  if (href === "")
    href = "index.html";
  var menuAnchor = $('a[href="' + href + '"]');

  // mark it active
  menuAnchor.tab('show');

  // if it's got a parent navbar menu mark it active as well
  menuAnchor.closest('li.dropdown').addClass('active');

  // Navbar adjustments
  var navHeight = $(".navbar").first().height() + 15;
  var style = document.createElement('style');
  var pt = "padding-top: " + navHeight + "px; ";
  var mt = "margin-top: -" + navHeight + "px; ";
  var css = "";
  // offset scroll position for anchor links (for fixed navbar)
  for (var i = 1; i <= 6; i++) {
    css += ".section h" + i + "{ " + pt + mt + "}\n";
  }
  style.innerHTML = "body {" + pt + "padding-bottom: 40px; }\n" + css;
  document.head.appendChild(style);
});
</script>

<!-- tabsets -->

<style type="text/css">
.tabset-dropdown > .nav-tabs {
  display: inline-table;
  max-height: 500px;
  min-height: 44px;
  overflow-y: auto;
  border: 1px solid #ddd;
  border-radius: 4px;
}

.tabset-dropdown > .nav-tabs > li.active:before {
  content: "";
  font-family: 'Glyphicons Halflings';
  display: inline-block;
  padding: 10px;
  border-right: 1px solid #ddd;
}

.tabset-dropdown > .nav-tabs.nav-tabs-open > li.active:before {
  content: "&#xe258;";
  border: none;
}

.tabset-dropdown > .nav-tabs.nav-tabs-open:before {
  content: "";
  font-family: 'Glyphicons Halflings';
  display: inline-block;
  padding: 10px;
  border-right: 1px solid #ddd;
}

.tabset-dropdown > .nav-tabs > li.active {
  display: block;
}

.tabset-dropdown > .nav-tabs > li > a,
.tabset-dropdown > .nav-tabs > li > a:focus,
.tabset-dropdown > .nav-tabs > li > a:hover {
  border: none;
  display: inline-block;
  border-radius: 4px;
  background-color: transparent;
}

.tabset-dropdown > .nav-tabs.nav-tabs-open > li {
  display: block;
  float: none;
}

.tabset-dropdown > .nav-tabs > li {
  display: none;
}
</style>

<!-- code folding -->



<style type="text/css">

#TOC {
  margin: 25px 0px 20px 0px;
}
@media (max-width: 768px) {
#TOC {
  position: relative;
  width: 100%;
}
}

@media print {
.toc-content {
  /* see https://github.com/w3c/csswg-drafts/issues/4434 */
  float: right;
}
}

.toc-content {
  padding-left: 30px;
  padding-right: 40px;
}

div.main-container {
  max-width: 1200px;
}

div.tocify {
  width: 20%;
  max-width: 260px;
  max-height: 85%;
}

@media (min-width: 768px) and (max-width: 991px) {
  div.tocify {
    width: 25%;
  }
}

@media (max-width: 767px) {
  div.tocify {
    width: 100%;
    max-width: none;
  }
}

.tocify ul, .tocify li {
  line-height: 20px;
}

.tocify-subheader .tocify-item {
  font-size: 0.90em;
}

.tocify .list-group-item {
  border-radius: 0px;
}


</style>



</head>

<body>


<div class="container-fluid main-container">


<!-- setup 3col/9col grid for toc_float and main content  -->
<div class="row">
<div class="col-xs-12 col-sm-4 col-md-3">
<div id="TOC" class="tocify">
</div>
</div>

<div class="toc-content col-xs-12 col-sm-8 col-md-9">




<div class="navbar navbar-default  navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-bs-toggle="collapse" data-target="#navbar" data-bs-target="#navbar">
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <a class="navbar-brand" href="index.html">R Modules</a>
    </div>
    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
        <li>
  <a href="https://brownhr.github.io">
    <span class="fa fa-home"></span>
     
    Home
  </a>
</li>
<li>
  <a href="about.html">
    <span class="fa fa-info"></span>
     
    About
  </a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" data-bs-toggle="dropdown" aria-expanded="false">
    R Modules
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
    <li class="dropdown-header">R and R Studio</li>
    <li>
      <a href="RModule1.html">R Module 1</a>
    </li>
    <li>
      <a href="RModule2.html">R Module 2</a>
    </li>
    <li class="divider"></li>
    <li class="dropdown-header">Mapping</li>
    <li>
      <a href="RModule3.html">R Module 3</a>
    </li>
    <li>
      <a href="RModule4.html">R Module 4</a>
    </li>
    <li>
      <a href="RModule5.html">R Module 5</a>
    </li>
  </ul>
</li>
      </ul>
      <ul class="nav navbar-nav navbar-right">
        
      </ul>
    </div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

<div id="header">




</div>


<div id="r-module-2" class="section level1">
<h1>R Module 2</h1>
<script>
  addClassKlippyTo("pre.r, pre.markdown");
  addKlippy('left', 'top', 'auto', '1', 'Copy code', 'Copied!');
</script>
<div id="working-with-r-scripts-and-projects" class="section level2">
<h2>Working with R Scripts and Projects</h2>
<p>In the previous R Module, we worked entirely within the context of
the R <em>console</em>, which allowed us to run code line-by-line and
see the results immediately. However, when working on more complex
projects, it’s important to be able to stay organized, not only for your
own sake, but also to help potential collaborators understand your
workflow, which includes the people troubleshooting issues in your code!
R <em>scripts</em> are designed exactly for this; scripts are
essentially text files that allow you to save, review, and edit your
code, then run your code all at once! This is necessary when doing
real-world programming in R — coding is an iterative process, in which
you work on things step-by-step until you get the desired code!</p>
<div class="figure" style="text-align: center">
<img src="img/R%20Scripts%20Example.png" alt="Example of an R script written in RStudio" width="514" />
<p class="caption">
Example of an R script written in RStudio
</p>
</div>
<div id="r-projects" class="section level3">
<h3>R Projects</h3>
<p>R Projects are an important (and <em>essential</em>!) way of
maintaining and organizing your work within RStudio. <em>Projects</em>
can be thought of like folders; they’re tools for containing all the
scripts, files, and data that you need for your analyses.
<em>Projects</em> also allow you to save all your progress, including
the variables you create, the data you load, etc. You can also use
<em>Projects</em> to save your workspace, so you can easily switch
between working on class projects, R Modules, or whatever else you’re
doing, without losing any progress.</p>
<p>Let’s start by creating a new R Project! Go ahead and open RStudio,
and create a new Project by clicking
<code>File &gt; New Project...</code></p>
<p>You’ll then get this window:</p>
<p><img src="img/NewProjectStep1.png" width="268" /></p>
<p>Then, Select <code>New Project</code>…</p>
<p><img src="img/NewProjectStep2.png" width="268" /></p>
<p>Finally, enter “R Module 2” as the name of the directory, and browse
to a folder where you can find the Project again (e.g., your
<code>Documents</code> folder)…</p>
<p><img src="img/NewProjectStep3.png" width="269" /></p>
<p>Once you’ve created your new Project, you’ll see that you’re working
within the Project when you see an icon – <img src="img/RModule2.png" />
– in the top-right corner.</p>
</div>
<div id="creating-new-scripts" class="section level3">
<h3>Creating New Scripts</h3>
<p>As stated earlier, <em>Scripts</em> are simply text files containing
the commands that you would otherwise enter into the console. This makes
it easy to save progress, return to code later, share your code with
friends and loved ones, and more. Going forward, we’ll use
<em>Scripts</em> whenever we want to perform analyses for our R Modules,
which makes it easier to troubleshoot our code. Feel free to continue
using the <em>Console</em> when exploring the data, though!</p>
<p>Creating a new <em>Script</em> is very easy; either type
<code>Cmd/CTRL-Shift-N</code>, or select
<code>File &gt; New File... &gt; R Script</code>. You’ll be greeted with
a new <em>Script</em>, which can hold your code!</p>
<p>Let’s try out a few basic things – exploring some data. For now,
we’ll use the <code>trees</code> dataset from the wonderful
<code>datasets</code> package.</p>
<p>Enter the following into your script. By default, the
<code>datasets</code> package is already loaded, but it’s good practice
to have all of your <code>library()</code> calls at the beginning of
your scripts, which is why it’s included here.</p>
<pre class="r klippy"><code>library(datasets)

tree_data &lt;- trees</code></pre>
<p><strong>N.B.:</strong> The <code>&lt;-</code> arrow is called an
<em>assignment operator</em>, and takes a value on the right of the
arrow and <em>assigns</em> it to a variable on the left. R also has the
<code>=</code> operator, which works similarly, but for now stick to
using <code>&lt;-</code> to avoid confusion (there is a difference
between <code>&lt;-</code> and <code>=</code> but it’s not important for
now!).</p>
<p>You can run code from Scripts in several ways; either line-by-line,
by entering <code>Cmd/CTRL-Enter</code>, or by running the entire script
with <code>Cmd/CTRL-Alt-R</code>. Go ahead and run everything now.</p>
<p>What we’ve done so far is assign the <code>trees</code> dataset to
the variable <code>tree_data</code>. You can see this variable in the
<strong>Environment</strong> tab:</p>
<p><img src="img/tree_environment.png" width="318" /></p>
<p>Before we go any further, let’s save our script
(<code>Cmd/CTRL-S</code>) as <code>tree_data.R</code>…</p>
<p>Now, we’ll get into the real content of why scripts are useful! Let’s
create some graphs and figures, but let’s use some specialized packages
to do so.</p>
<hr />
</div>
</div>
<div id="ggplot2" class="section level2">
<h2>ggplot2</h2>
<p>The amazing <code>ggplot2</code> package is designed to generate
high-quality, visually appealing graphs, figures, and even maps! Using
this package is somewhat different than the base R <code>plot()</code>
and <code>hist()</code> functions, but once you understand the core
concept of how <code>ggplot2</code> works, it’ll be easy to create your
own graphs!</p>
<p>For reference, the amazing <em>R Graph Gallery</em> is a treasure
trove of information and examples on how to generate all sorts of
figures with <code>ggplot2</code>, and can be found at <a
href="https://www.r-graph-gallery.com/index.html"
class="uri">https://www.r-graph-gallery.com/index.html</a></p>
<p>Feel free to use this site (as well as Google, Stack Exchange, etc.!)
when creating plots — there are <em>hundreds</em> of ways to customize
your plots; enough to teach an entire course just on
<code>ggplot2</code>!</p>
<p>Using the <code>trees</code> dataset, let’s create a scatter plot of
tree height vs tree volume. Add the following into your script and hit
run; you should be left with a plot! I’ll explain what is happening.</p>
<p>If you’ve never used ggplot2 (or any other package) before, you’ll
first need to install it with <code>install.packages("ggplot2")</code>.
You’ll only need to do this once, and afterwards you can call it with
library(ggplot2)</p>
<pre class="r"><code>library(ggplot2)

ggplot(
  data = tree_data,
  aes(
    x = Volume,
    y = Height
  )
) +
  geom_point()</code></pre>
<p><img src="RModule2_files/figure-html/trees-gg-1.png" width="672" /></p>
<p>The fundamental process of working within <code>ggplot2</code> is
that figures and graphs are generated as <em>layers</em> based on a set
of <em>data</em>. Within the <code>ggplot()</code> function, we defined
<code>data = tree_data</code>. However, we also need to tell
<code>ggplot2</code> <em>what</em> we want to plot from that data; this
is done using something called <strong><em>Aesthetic
Mappings</em></strong>, with the <code>aes()</code> function. This
function (which is pretty much only used within <code>ggplot()</code>)
assigns variables or columns within a dataset to a certain aspect of our
plot, whether it be the x or y coordinate, the size of a point, the
color of a line, etc. Many datasets have too many columns to graph all
at once, so using the <code>aes()</code> function allows us to decide
what attributes of our data we wish to visualize, and how those
attributes are visualized.</p>
<p>The <code>geom_point()</code> function translates our data and
<em>aesthetic mappings</em> into an actual figure; it specifies the kind
of graph we wish to create (in this case, a scatter plot or
<em>point</em> plot). <strong>Notice</strong> the <code>+</code>
operator between the <code>ggplot()</code> and the
<code>geom_point()</code> calls; this is how <code>ggplot2</code> adds
and modifies layers on a plot. If you ever have errors making plots with
<code>ggplot2</code>, this is one of the first things to check!</p>
<p>Let’s briefly discuss another plot:</p>
<pre class="r"><code>ggplot(
  data = tree_data,
  aes(x = Volume)
) +
  geom_histogram() +
  labs(
    title = &quot;Histogram of Tree Volume&quot;,
    x = &quot;Volume&quot;,
    y = &quot;Count&quot;
  )</code></pre>
<p><img src="RModule2_files/figure-html/tree_hist-1.png" width="672" /></p>
<p>We can create histograms using the <code>geom_histogram()</code>
function. Additionally, adding axis labels and a title is done with the
<code>labs()</code> function — again, note the <code>+</code> operator
between each layer. Explore some of the documentation (<code>?</code>)
of the functions we use to better understand usage and examples.</p>
<p><strong>Assignment 1: Create your own histogram of the
<code>tree_data</code> dataset using <code>ggplot2</code>,
showing:</strong></p>
<ol style="list-style-type: decimal">
<li>The distribution of the <code>Height</code> variable,</li>
<li>20 bins,</li>
<li>A fill color of your choosing <em>(hint: explore the
<code>fill</code> and/or <code>color</code> arguments within the
<code>geom_histogram()</code> function)</em>,</li>
<li>Labels (title, x-axis, etc.) that accurately describe the plot</li>
</ol>
<p>Save the plot as an image and embed it into your document!</p>
<!--
I moved the Working Directory and File Management topics to R Module 3; this one seemed to be getting a bit lengthy, so I didn't want to add too much all at once!
-->
<hr />
<hr />
</div>
</div>
<div id="introductory-statistics" class="section level1">
<h1>Introductory Statistics</h1>
<p>Now that we’ve covered some more fundamental R topics, we can discuss
the quantitative methods of this R Module. We’ll keep it fairly light
and talk about introductory descriptive statistics — <em>Measures of
Central Tendency</em> and <em>Measures of Dispersion</em>.</p>
<div id="measures-of-central-tendency" class="section level2">
<h2>Measures of Central Tendency</h2>
<p>These kinds of statistics give us insight into our set of data by
giving us a single value which describes the “middle” of our data. These
measures include the <strong>mean</strong>, <strong>median</strong>, and
<strong>mode</strong>, which describe a different method of determining
the “typical” value in the distribution, and all have their pros and
cons. For more information, check out <a
href="https://www.abs.gov.au/websitedbs/D3310114.nsf/Home/Statistical+Language+-+measures+of+central+tendency">this
site</a>, which explains some more examples of Measures of Central
Tendency.</p>
<div id="the-mean" class="section level3">
<h3>The Mean</h3>
<p>The <strong>mean</strong> is defined as the sum of each observation,
divided by the number of observations (i.e., the <em>arithmetic
average</em>).</p>
<pre class="r"><code>numbers &lt;- c(1, 2, 6, 12, 4, 8, 9, 3, 5, 4, 7)

sum(numbers) / length(numbers)</code></pre>
<pre><code>## [1] 5.545455</code></pre>
<pre class="r"><code>mean(numbers)</code></pre>
<pre><code>## [1] 5.545455</code></pre>
<p>The mean is sensitive to outliers and skewed distributions, so it’s
not always the best to use.</p>
</div>
<div id="the-median" class="section level3">
<h3>The Median</h3>
<p>The <strong>median</strong> can be thought of as the value closest to
the “middle” of our distribution; it is the value which divides the data
in half, such that half of our data lies on one side of the mean, and
half on the other.</p>
<pre class="r"><code>numbers &lt;- c(1, 2, 6, 12, 4, 8, 9, 3, 5, 4, 7)

sort(numbers)</code></pre>
<pre><code>##  [1]  1  2  3  4  4  5  6  7  8  9 12</code></pre>
<pre class="r"><code>median(numbers)</code></pre>
<pre><code>## [1] 5</code></pre>
<p>Compared to the mean, the median is less sensitive to outliers,
making it better suited to data that is skewed in a particular
direction.</p>
</div>
<div id="the-mode" class="section level3">
<h3>The Mode</h3>
<p>The <strong>mode</strong> is simply the most commonly occurring value
within a given distribution; if we were to count how many times each
number appears, the mode would be the number with the most occurrences.
The mode is also the measure best suited for <em>categorical</em> data —
data such as names or factors that cannot be as easily measured and
compared.</p>
<pre class="r"><code>## Unfortunately, R does not have a built-in `mode()` function, so we&#39;ll have
## to make our own
## Don&#39;t worry too much on what this does, it&#39;s just an example, and is only
## one way of doing things!

find_mode &lt;- function(x) {
  unique_data &lt;- unique(x)
  unique_data[which.max(tabulate(match(x, unique_data)))]
}</code></pre>
<pre class="r"><code>numbers &lt;- c(1, 2, 6, 12, 4, 8, 9, 3, 5, 4, 7)
find_mode(numbers)</code></pre>
<pre><code>## [1] 4</code></pre>
<pre class="r"><code>actors &lt;- c(&quot;Robert&quot;, &quot;Chris&quot;, &quot;Chris&quot;, &quot;Jeremy&quot;, &quot;Scarlett&quot;, &quot;Mark&quot;, &quot;Samuel&quot;)
find_mode(actors)</code></pre>
<pre><code>## [1] &quot;Chris&quot;</code></pre>
<hr />
<hr />
</div>
</div>
</div>
<div id="assignment" class="section level1">
<h1>Assignment</h1>
<p><strong>Assignment 2: Visualize and Explore the <code>mtcars</code>
Dataset and Create Plots Using <code>ggplot2</code></strong></p>
<ol style="list-style-type: decimal">
<li>Create a new Script called <code>mtcars.R</code>, saving your
following work within that Script<br />
</li>
<li>Assign <code>mtcars</code> to an object (e.g., “cars”) using the
<code>&lt;-</code> operator<br />
</li>
<li>Choose three variables from <code>mtcars</code> (remember the
<code>$</code> operator), and for each:<br />
1. Find the mean, median, and <strong>mode</strong><br />
<ul>
<li>You may need to look online for how to find the mode in R! The base
<code>mode()</code> function does something very different!<br />
<ol start="2" style="list-style-type: decimal">
<li>Create a histogram in <code>ggplot2</code> of that variable,
<strong>with appropriate labels, title, etc.</strong></li>
</ol></li>
</ul></li>
<li>Choose two variables from <code>mtcars</code> and create a
scatterplot in <code>ggplot2</code> showing their relation<br />
- <strong>Include title, labels, etc.</strong><br />
- <em>Hint:</em> scatter plots are made with the
<code>geom_point()</code> function.<br />
- Use Google, Stack Exchange, and the built-in Help function to see
examples and usage for how to make these plots<br />
</li>
<li>Include a screenshot of your <code>mtcars.R</code> Script.<br />
- Remember that it’s good practice to have any <code>library()</code>
call at the top of your script!<br />
- Scripts should be able to be read from top to bottom, so if you define
an object (<code>&lt;-</code>) make sure you’re not referencing that
object earlier in the script than when you initialize it.<br />
</li>
</ol>
<p>Submit <strong>all</strong> assignment questions to Google Classroom!
Be sure to include your name, the question number, and all figures!</p>
</div>

<p>&copy; 2022 brownhr. v.0.0.5</p>


</div>
</div>

</div>

<script>

// add bootstrap table styles to pandoc tables
function bootstrapStylePandocTables() {
  $('tr.odd').parent('tbody').parent('table').addClass('table table-condensed');
}
$(document).ready(function () {
  bootstrapStylePandocTables();
});


</script>

<!-- tabsets -->

<script>
$(document).ready(function () {
  window.buildTabsets("TOC");
});

$(document).ready(function () {
  $('.tabset-dropdown > .nav-tabs > li').click(function () {
    $(this).parent().toggleClass('nav-tabs-open');
  });
});
</script>

<!-- code folding -->

<script>
$(document).ready(function ()  {

    // temporarily add toc-ignore selector to headers for the consistency with Pandoc
    $('.unlisted.unnumbered').addClass('toc-ignore')

    // move toc-ignore selectors from section div to header
    $('div.section.toc-ignore')
        .removeClass('toc-ignore')
        .children('h1,h2,h3,h4,h5').addClass('toc-ignore');

    // establish options
    var options = {
      selectors: "h1,h2,h3",
      theme: "bootstrap3",
      context: '.toc-content',
      hashGenerator: function (text) {
        return text.replace(/[.\\/?&!#<>]/g, '').replace(/\s/g, '_');
      },
      ignoreSelector: ".toc-ignore",
      scrollTo: 0
    };
    options.showAndHide = true;
    options.smoothScroll = true;

    // tocify
    var toc = $("#TOC").tocify(options).data("toc-tocify");
});
</script>

<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    script.src  = "https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML";
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>

</body>
</html>
